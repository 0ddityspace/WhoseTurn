<!DOCTYPE html>
<html>
<head>
  <title>Administration - Gestion des utilisateurs</title>
  <link rel='stylesheet' href='/stylesheets/style.css'/>
  <link rel='stylesheet' href='/stylesheets/bootstrap.css'/>
  <link rel='stylesheet' href='/stylesheets/bootstrap-theme.css'/>
  <link rel='stylesheet' href='/stylesheets/jquery.minipreview.css'/>
  <link rel='stylesheet' href='/stylesheets/jquery-ui.css'/>
</head>
<body>

<nav class="navbar navbar-default">
  <div class="container-fluid">
    <a class="navbar-brand" href="#">Gestion des utilisateurs</a>

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav">
        <li><a href="/admin">Retour à l'accueil de la partie administration</a></li>
      </ul>
    </div>
    <!-- /.navbar-collapse -->
  </div>
  <!-- /.container-fluid -->
</nav>
<form id="usersForm" action="#" method="post" class="form-horizontal">
  <div class="table-responsive">
    <table class="table table-striped  table-hover table-condensed">
      <thead>
      <tr>
        <th width="20%">Identifiant</th>
        <th width="20%">Nom</th>
        <th width="20%">Abonné ?</th>
        <th width="20%">Externe ?</th>
        <th width="20%">Avatar</th>
      </tr>
      </thead>
    </table>
    <div class="bodycontainer scrollable">
      <table class="table table-hover table-striped table-condensed table-scrollable">
        <tbody>
        <% users.forEach(function(user) { %>
        <tr class="user" id="<%= user.id %>">
          <td width="21%"><%= user.id %></td>
          <td width="20%"><%= user.name %></td>
          <td width="20%"><input type="checkbox" <%= user.hasSubscribe ? 'checked' : '' %>  disabled></td>
          <td width="20%"><input type="checkbox" <%= user.isExternal ? 'checked' : '' %>  disabled></td>
          <td width="20%">
            <button class="avatarChangeButton" type="button" class="btn btn-default btn-xs" title="Changer l'image">
              <span class="glyphicon glyphicon-upload" aria-hidden="true"></span>
            </button><a class="userThumbnail" href="<%= user.avatar %>"><%= user.avatar %></a>
          </td>
        </tr>
        <% }) %>

        </tbody>

      </table>
    </div>
    <table class="table table-hover table-striped table-condensed">
      <tfoot>
      <tr>
        <td width="21%"><input id="newUserId" type="text"/></td>
        <td width="20%"><input id="newUserName" type="text"/></td>
        <td width="20%"><input id="newUserHasSubscribe" type="checkbox"/></td>
        <td width="19%"><input id="newUserIsExternal" type="checkbox"/></td>
        <td width="20%">
          <button id="addUserButton" type="button" class="btn btn-info">Ajouter</button>
        </td>
      </tr>
      </tfoot>
    </table>
  </div>
</form>
<div id="dialog-avatar-form" title="Uploader une image">
  <form enctype="multipart/form-data">
    <fieldset>
      <label for="file">Image (.jpg uniquement)</label>
      <input type="file" name="file" id="avatarFile" accept=".jpg, .jpeg" class="text ui-widget-content ui-corner-all">
      <input type="submit" tabindex="-1" style="position:absolute; top:-1000px">
    </fieldset>
  </form>
  <style>
    .ui-dialog-titlebar-close {
      display: none!important;
    }
  </style>
</div>
<script src="/js/jquery.js"></script>
<script src="/js/jquery-ui.js"></script>
<script src="/js/jquery.minipreview.js"></script>
<script src="/js/bootstrap.js"></script>
<script src="/js/source.js"></script>
</body>
</html>